{% extends 'components/dashboard/sidebar/dashboard.html' %}
{% load static %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-6 rounded shadow-md">

  <h1 class="text-2xl font-semibold mb-6 text-gray-900">Minhas Inscrições</h1>

  {% if inscricoes %}
    <table class="table-auto w-full border-collapse border border-gray-300">
      <thead>
        <tr>
          <th class="border border-gray-300 px-4 py-2 text-left">Projeto</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Status</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Data de Criação</th>
          <th class="border border-gray-300 px-4 py-2 text-left">Ações</th>
        </tr>
      </thead>
      <tbody>
        {% for inscricao in inscricoes %}
          <tr class="even:bg-gray-50">
            <td class="border border-gray-300 px-4 py-2">{{ inscricao.projeto }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ inscricao.status }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ inscricao.created_at|date:"d/m/Y H:i" }}</td>
            <td class="border border-gray-300 px-4 py-2">
              {% if inscricao.status|lower == "pendente" or inscricao.status|lower == "rascunho" %}
                  <a href="{% url 'application:editar_inscricao' inscricao.id %}" title="Editar Inscrição" class="text-pink-500 hover:text-pink-700">
                  <!-- Ícone de lápis SVG simples -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536M4 20h4.586a1 1 0 00.707-.293l9.414-9.414a1 1 0 000-1.414l-4.586-4.586a1 1 0 00-1.414 0L4 15.414V20z"/>
                  </svg>
                </a>
              {% else %}
                <!-- Nenhuma ação disponível -->
                -
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="text-gray-700">Você ainda não possui inscrições.</p>
  {% endif %}

</div>
{% endblock %}
